angular.module("ngController",[]).controller("mainCtrl",["$scope","nmbFactory",function(a,t){var r=[],o="Please type min. 3 chars for make search.";a.search={type:"images",info_text:o,page:1,show_loading:!1,show_more_btn:!1},a.makeSearch=function(e){void 0===a.search.term||a.search.term.length<3?a.search.info_text=o:(a.search.searched_type=a.search.type,a.search.show_loading=!0,a.search.show_more_btn=!1,e?a.search.page=a.search.page+1:($("html, body").animate({scrollTop:0},400),a.search.page=1,r=[]),t.getSearchResult(a.search.term,a.search.type,a.search.page).then(function(e){angular.forEach(e.data.hits,function(e,a){r.push(e)}),a.search.result={totalHits:e.data.totalHits,hits:r},0===e.data.totalHits?(a.search.info_text="There is no result. Please change your search term.",$(".search-input").focus().select()):a.search.info_text="<b>{0}</b> item{1}found about <b>{2}</b>.".format(e.data.totalHits,1<e.data.totalHits?"s ":" ",a.search.term),a.search.show_more_btn=r.length<e.data.totalHits,a.search.type,a.search.show_loading=!1}))},a.generateBgImage=function(e){return{"background-image":"url({0})".format(e)}},a.generateBgImageForVideo=function(e){return{"background-image":"url(https://i.vimeocdn.com/video/{0}_640x360.jpg)".format(e)}}}]);